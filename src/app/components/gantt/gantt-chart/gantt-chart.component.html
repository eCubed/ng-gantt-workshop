<div class="gantt-chart" #ganttChart>

  <div class="task-names">
    @for (task of tasks; track task.name) {
      <div class="task-name"

        [style.height.px]="taskHeightPx"
        [style.width.px]="taskLabelWidthPx"
      >{{ task.name }}</div>
    }

  </div>

  <div class="task-rectangles-viewport">
    <div class="date-labels-container" #dateLabelsContainer
       appScrollScale
       [scroll-percent]="0"
       [scale-percent]="scale"
    >
      @for (marker of verticalMarkers; track marker.percentLeft) {
        <div class="date-label" [style.left.%]="marker.percentLeft">
          <div>
          {{ marker.date | date: 'MMM d, yyyy'}}
          </div>
        </div>
      }
    </div>
    <div class="task-rectangles-container" #taskRectanglesContainer
      appScrollScale
      [scroll-percent]="0"
      [scale-percent]="scale"
    >
      @for (task of tasks; track $index) {
        <div
          class="task-rectangle"
          (click)="onTaskRectangleClicked(task)"
          [style.left.%]="calculateXPercent(task)"
          [style.width.%]="calculateWidthPercent(task)"
          [style.height.px]="taskHeightPx"
          [style.top.px]="calculateYCoordinate($index)"
        >
        </div>
      }

      @for (marker of verticalMarkers; track marker.percentLeft) {
        <div class="vertical-marker" [style.left.%]="marker.percentLeft">
        </div>
      }
    </div>
  </div>

</div>
